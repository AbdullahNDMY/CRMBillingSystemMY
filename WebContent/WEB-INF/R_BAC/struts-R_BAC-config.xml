<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
                               "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<!-- Generated by TERASOLUNA IDE -->
<struts-config>
	<data-sources />
	<!-- ======================================== フォームビーン定義 設定例 <form-beans> 
		<form-bean name="_userForm" type="jp.terasoluna.sample.common.form.UserForm" 
		/> <form-bean name="_dynaValidatorForm" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx" 
		> <form-property name="userId" type="java.lang.String"/> </form-bean> </form-beans> -->
    <form-beans>
        <form-bean name="_r_bacForm" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
            <form-property name="accessType" type="java.lang.String"/>
            <form-property name="row" type="java.lang.Integer"/>
            <form-property name="startIndex" type="java.lang.Integer"/>
            <form-property name="totalRow" type="java.lang.Integer"/>
            <form-property name="custId" type="java.lang.String"/>
            <form-property name="paymentMethod" type="java.lang.String"/>
            <form-property name="custName" type="java.lang.String"/>
            <form-property name="billCurrency" type="java.lang.String"/>
            <form-property name="billAcc" type="java.lang.String"/>
            <form-property name="totalamount" type="java.lang.String"/>
            <form-property name="doSearch" type="java.lang.String"/>
            <form-property name="resultList" type="java.util.List"/>
            <form-property name="type" type="java.lang.String"/>
        </form-bean>
    </form-beans>
	<!-- ======================================== グローバル例外ハンドリング定義 -->
	<global-exceptions>
		<!-- 設定例 -->
		<exception className="jp.terasoluna.fw.web.struts.action.ExceptionConfigEx"
			handler="jp.terasoluna.fw.web.struts.action.SystemExceptionHandler"
			key="errors.default.mesasge" path="/error.jsp"
			type="jp.terasoluna.fw.exception.SystemException">
			<set-property property="logLevel" value="error" />
			<set-property property="module" value="/" />
		</exception>
		<exception className="jp.terasoluna.fw.web.struts.action.ExceptionConfigEx"
			handler="jp.terasoluna.fw.web.struts.action.DefaultExceptionHandler"
			key="errors.default.mesasge" path="/error.jsp" type="java.lang.Exception">
			<set-property property="logLevel" value="error" />
			<set-property property="module" value="/" />
		</exception>
	</global-exceptions>
	<!-- ======================================== グローバルフォワード定義 -->
	<global-forwards>
		<forward name="welcome" path="/welcome.do" redirect="true" />
	</global-forwards>
	<!-- ======================================== アクションマッピング定義 -->
	<action-mappings type="jp.terasoluna.fw.web.struts.action.ActionMappingEx">
		<action name="_r_bacForm" path="/R_BAC_R01BL"
            scope="request" validate="false">
            <forward name="success" path="/R_BAC_S01SCR.do"/>
        </action>
        <action input="/R_BAC_S01SCR.do" name="_r_bacForm"
            path="/R_BAC_R02BL" scope="request" validate="false">
            <forward name="success" path="/R_BAC_S01SCR.do"/>
        </action>
        <action name="_r_bacForm" path="/R_BAC_S01SCR"
            scope="request" validate="false">
            <forward name="success" path="/R_BAC_S01.jsp"/>
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02SCR"
            scope="request" validate="false">
            <forward name="success" path="/R_BAC_S02_01.jsp"/>
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02DSP"
            scope="request" validate="false">
            <forward name="search" path="/R_BAC_S02_01BL.do"/>
            <forward name="export" path="/R_BAC_S02_exportBL.do"/>
            <forward name="analysis1" path="/R_BAC_S02_analysis1BL.do"/>
            <forward name="analysis2" path="/R_BAC_S02_analysis2BL.do"/>
            <forward name="analysis3" path="/R_BAC_S02_analysis3BL.do"/>
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02_01BL" input="/R_BAC_S02SCR.do"
            scope="request" validate="true">
            <forward name="success" path="/R_BAC_S02SCR.do"/>
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02_02BL"
            scope="request" validate="false">
            <forward name="success" path="/R_BAC_S02_02.jsp"/>
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02_03BL"
            scope="request" validate="false">
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02_exportBL"
            scope="request" validate="false">
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02_analysis1BL"
            scope="request" validate="false">
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02_analysis2BL"
            scope="request" validate="false">
        </action>
        <action name="_r_bacForm" path="/R_BAC_S02_analysis3BL"
            scope="request" validate="false">
        </action>

        <action name="_r_bacForm" path="/R_BAC_R01DSP"
            scope="request" validate="false">
            <forward name="search" path="/R_BAC_R02BL.do"/>
            <forward name="reset" path="/R_BAC_R01BL.do"/>
            <forward name="export" path="/R_BAC_R03BL.do"/>
        </action>
        <action input="/R_BAC_R02BL.do" name="_r_bacForm"
            path="/R_BAC_R03BL" scope="request" validate="true">
        </action>
	</action-mappings>
	<!-- ======================================== コントローラ定義 -->
	<controller processorClass="jp.terasoluna.fw.web.struts.action.RequestProcessorEx" />
	<!-- ======================================== メッセージリソース定義 <message-resources 
		factory="jp.terasoluna.fw.web.struts.util.SpringMessageResourcesFactory" 
		parameter="messageSource" /> -->
	<message-resources
		factory="jp.terasoluna.fw.web.struts.action.PropertyMessageResourcesExFactory"
		parameter="R_BAC-messages" />
	<plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
		<set-property property="contextConfigLocation" value="/WEB-INF/R_BAC/R_BACContext.xml" />
	</plug-in>
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,/WEB-INF/validator-rules-ex.xml,/WEB-INF/R_BAC/validation-R_BAC.xml" />
		<set-property property="stopOnFirstError" value="false" />
	</plug-in>
	<plug-in className="jp.terasoluna.fw.web.struts.plugins.BLogicIOPlugIn">
		<set-property property="digesterRules" value="/WEB-INF/blogic-io-rules.xml" />
		<set-property property="mapperClass"
			value="jp.terasoluna.fw.service.thin.BLogicMapper" />
		<set-property property="resources"
			value="/WEB-INF/R_BAC/blogic-R_BAC-io.xml" />
	</plug-in>
	<plug-in className="jp.terasoluna.fw.web.struts.plugins.ResetterPlugIn">
		<set-property property="resetter"
			value="jp.terasoluna.fw.web.struts.reset.ResetterImpl" />
		<set-property property="digesterRules" value="/WEB-INF/reset-rules.xml" />
		<set-property property="resources" value="/WEB-INF/R_BAC/reset-R_BAC.xml" />
	</plug-in>
</struts-config>
