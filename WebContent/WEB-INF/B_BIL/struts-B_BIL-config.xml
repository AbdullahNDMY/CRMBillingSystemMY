<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
                               "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<!-- Generated by TERASOLUNA IDE -->
<struts-config>
    <data-sources/>
    <!-- ======================================== フォームビーン定義  設定例
    <form-beans>
      <form-bean name="_userForm"
                 type="jp.terasoluna.sample.common.form.UserForm" />
      <form-bean name="_dynaValidatorForm"
                 type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx" >
        <form-property name="userId" type="java.lang.String"/>
      </form-bean>
    </form-beans> -->
    <form-beans>
        <form-bean name="_b_bilForm" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
            <form-property name="example" type="java.lang.String"/>
            <form-property name="tbxBillingReference" type="java.lang.String"/>
            <!-- #263 [T11] Add customer type at inquiry screen and export result CT 06062017 ST -->
            <form-property name="tbxCustomerId" type="java.lang.String"/>
            <!-- #263 [T11] Add customer type at inquiry screen and export result CT 06062017 EN -->
            <form-property name="tbxCustomerName" type="java.lang.String"/>
            <!-- #263 [T11] Add customer type at inquiry screen and export result CT 06062017 ST -->
             <form-property name="cboCustomerType" type="java.lang.String"/>
            <!-- #263 [T11] Add customer type at inquiry screen and export result CT 06062017 EN -->
            <form-property name="cboDeletedStatus" type="java.lang.String"/>
            <form-property name="issueTypeSingpost" type="java.lang.String"/>
            <form-property name="issueTypeAuto" type="java.lang.String"/>
            <form-property name="issueTypeManual" type="java.lang.String"/>
            <form-property name="deliveryEmail" type="java.lang.String[]"/>
            <form-property name="delivery" type="java.lang.String[]"/>
            <form-property name="cboTransactionType" type="java.lang.String"/>
            <form-property name="tbxBillingAccountNo" type="java.lang.String"/>
            <form-property name="jobNo" type="java.lang.String"/>
            <form-property name="tbxBillingDateFrom" type="java.lang.String"/>
            <form-property name="tbxBillingDateTo" type="java.lang.String"/>
            <form-property name="cboDocumentStatus" type="java.lang.String"/>
            <form-property name="fullySettled" type="java.lang.String"/>
            <form-property name="partiallySettled" type="java.lang.String"/>
            <form-property name="outstanding" type="java.lang.String"/>
            <form-property name="initFlg" type="java.lang.String"/>
            <form-property name="cboBillingCurrency" type="java.lang.String"/>
            <form-property name="row" type="java.lang.Integer"/>
            <form-property name="startIndex" type="java.lang.Integer"/>
            <form-property name="totalRow" type="java.lang.Integer"/>
            <form-property name="listReport" type="java.util.List"/>
            <form-property name="idRef" type="java.lang.String"/>
            <form-property name="mode" type="java.lang.String"/>
            <form-property name="autSign" type="java.lang.String"/>
            <form-property name="sysBaseVal" type="java.lang.String"/>
            <form-property name="fromPageFlag" type="java.lang.String"/>
            <form-property name="forward_iv" type="java.lang.String"/>
            <form-property name="forward_dn" type="java.lang.String"/>
            <form-property name="forward_cn" type="java.lang.String"/>
            
            <form-property name="headerInfo" type="java.util.HashMap"/>
            <form-property name="custInfo" type="java.util.HashMap"/>
            <form-property name="detailInfo" type="java.util.List"/>
            <form-property name="footerInfo" type="java.util.List"/>
            <form-property name="bankFooterInfo" type="java.util.List"/>
            <form-property name="subInfo" type="java.util.HashMap"/>
            <form-property name="USER_VALUE_OBJECT" type="nttdm.bsys.common.fw.BillingSystemUserValueObject"/>
            <form-property name="headerData" type="nttdm.bsys.common.bean.T_BIL_H"/>
            <form-property name="accessType" type="java.lang.String"/>
            <form-property name="loadObject" type="java.util.HashMap"/>
            <form-property name="manualBillButtonShowFlg" type="java.lang.String"/>
            <form-property name="listCust" type="java.util.List"/>
            <form-property name="listContact" type="java.util.List"/>
            <form-property name="listQcsRef" type="java.util.List"/>
            <form-property name="listQuoRef" type="java.util.List"/>
            <form-property name="listAcMan" type="java.util.List"/>
            <form-property name="listJobNo" type="java.util.List"/>
            <form-property name="listBillingAccountNo" type="java.util.List"/>
            <form-property name="inputHeaderInfo" type="nttdm.bsys.common.bean.T_BIL_H"/>
            <form-property name="inputDetailInfo" type="java.util.List"/>
            <form-property name="itemId" type="java.lang.Integer[]"/>
            <form-property name="itemNo" type="java.lang.String[]"/>
            <form-property name="itemDesc" type="java.lang.String[]"/>
            <form-property name="itemQty" type="java.lang.String[]"/>
            <form-property name="itemUprice" type="java.lang.String[]"/>
            <form-property name="itemAtm" type="java.lang.String[]"/>
            <form-property name="grandTotalWording" type="java.lang.String"/>
            <form-property name="sysDate" type="java.util.Date"/>
            <form-property name="gstValue" type="java.lang.String"/>
            
            <form-property name="bilHeaderInfo" type="nttdm.bsys.b_bil.bean.T_BIL_HeaderInfo"/>
            <form-property name="idCustPlanGrps" type="java.lang.String"/>
            <form-property name="idCustPlanLinks" type="java.lang.String"/>
            <form-property name="billType" type="java.lang.String"/>
            <form-property name="lastMsg" type="java.lang.String"/>
            <form-property name="nonTaxInvoiceShowFlg" type="java.lang.String"/>
            <form-property name="gstCheck" type="java.lang.String"/>
            <!-- add for #143 Start -->
            <form-property name="deliveryEmail1" type="java.lang.String"/>
            <form-property name="deliveryEmail2" type="java.lang.String"/>
            <form-property name="delivery1" type="java.lang.String"/>
            <form-property name="delivery2" type="java.lang.String"/>
            <form-property name="delivery4" type="java.lang.String"/>
            <!-- add for #143 End -->
            <!-- Add #156 Start -->
            <form-property name="billCnAmtNegative" type="java.lang.String"/>
            <!-- Add #156 End-->
            <!-- #191 Start -->
            <form-property name="issueTypeSingpostValue" type="java.lang.String"/>
            <form-property name="issueTypeAutoValue" type="java.lang.String"/>
            <form-property name="issueTypeManualValue" type="java.lang.String"/>
            <!-- #191 End -->
            
            <!-- #263 [T11] Add customer type at inquiry screen and export result CT 06062017 ST -->
            <form-property name="cboCategory" type="java.lang.String"/>
            <!-- #263 [T11] Add customer type at inquiry screen and export result CT 06062017 ST -->
            <form-property name="taxType" type="java.lang.String"/>
            <form-property name="taxStr" type="java.lang.String"/>
            <form-property name="taxRate" type="java.lang.String"/>
        </form-bean>
		<form-bean name="_b_bilForm2" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
			<form-property name="idRef" type="java.lang.String"/>
			<form-property name="itemId" type="java.lang.String"/>
			<form-property name="itemDesc" type="java.lang.String"/>
		</form-bean>
		
		<form-bean name="_b_bilForm06" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
			<form-property name="itemId" type="java.lang.String"/>
			<form-property name="subPlanLength" type="java.lang.String"/>
			<form-property name="bilS06Bean" type="nttdm.bsys.b_bil.bean.B_BIL_S06Bean"/>
			<form-property name="gstCheck" type="java.lang.String"/>
		</form-bean>
		<form-bean name="_b_bil_04Form" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
		    <form-property name="idCust" type="java.lang.String"/>
		    <form-property name="gdcBillingDescription" type="java.lang.String"/>
		    <form-property name="gdcItemDescription" type="java.lang.String"/>
		    <form-property name="tbxSubscription" type="java.lang.String"/>
		    <form-property name="custName" type="java.lang.String"/>
		    <form-property name="row" type="java.lang.Integer"/>
            <form-property name="startIndex" type="java.lang.Integer"/>
            <form-property name="totalCount" type="java.lang.Object"/>
		    <form-property name="custPlanList" type="java.util.List"/>
		    <form-property name="subID" type="java.lang.String"/>
		    <form-property name="trans" type="java.lang.String"/>
		    <form-property name="billinst" type="java.lang.String"/>
		    <form-property name="cur" type="java.lang.String"/>
		    <form-property name="doSearch" type="java.lang.String"/>
		    <form-property name="isdis" type="java.lang.String"/>
		    <form-property name="billAcc" type="java.lang.String"/>
		    <form-property name="tbxServiceStatus" type="java.lang.String[]"/>
		    <form-property name="TAmount" type="java.math.BigDecimal"/>
		    <form-property name="isCpm" type="java.lang.String"/>
		    <form-property name="jobNo" type="java.lang.String"/>
		</form-bean>
    </form-beans>
    <!-- ======================================== グローバル例外ハンドリング定義 -->
    <global-exceptions>
        <!-- 設定例 -->
        <exception
            className="jp.terasoluna.fw.web.struts.action.ExceptionConfigEx"
            handler="jp.terasoluna.fw.web.struts.action.SystemExceptionHandler"
            key="errors.default.mesasge" path="/error.jsp" type="jp.terasoluna.fw.exception.SystemException">
            <set-property property="logLevel" value="error"/>
            <set-property property="module" value="/"/>
        </exception>
        <exception
            className="jp.terasoluna.fw.web.struts.action.ExceptionConfigEx"
            handler="jp.terasoluna.fw.web.struts.action.DefaultExceptionHandler"
            key="errors.default.mesasge" path="/error.jsp" type="java.lang.Exception">
            <set-property property="logLevel" value="error"/>
            <set-property property="module" value="/"/>
        </exception>
    </global-exceptions>
    <!-- ======================================== グローバルフォワード定義 -->
    <global-forwards>
        <forward name="welcome" path="/welcome.do" redirect="true"/>
    </global-forwards>
    <!-- ======================================== アクションマッピング定義 -->
    <action-mappings type="jp.terasoluna.fw.web.struts.action.ActionMappingEx">
        
        <action name="_b_bil_04Form" path="/B_BIL_S04CustPlanSearch" scope="request" validate="false">
            <forward name="success" path="/B_BIL_S04SCR.do"/>
        </action>
        <action name="_b_bil_04Form" path="/B_BIL_S04SCR" scope="request" validate="false">
            <forward name="success" path="/B_BIL_S04search.jsp"/>
        </action>
        
        <action name="_b_bilForm" path="/RP_B_BIL_S01_01BL"
            scope="session" validate="false">
            <forward name="success" path="/SC_B_BIL_S01_01SCR.do"/>
        </action>
        <action input="/RP_B_BIL_S01_01BL.do" name="_b_bilForm" 
        	path="/RP_B_BIL_S01_02BL" scope="session" validate="true">
            <forward name="success" path="/RP_B_BIL_S01_01BL.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S03_01BL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_01SCR.do"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S01_01SCR"
            scope="session" validate="false">
            <forward name="success" path="/SC_B_BIL_S01_01.jsp"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S01_01DSP" scope="session" validate="false">
            <forward name="search" path="/RP_B_BIL_S01_02BL.do"/>
            <forward name="view" path="/RP_B_BIL_S03_01BL.do"/>
            <forward name="dn" path="/RP_B_BIL_S03_03_01BL.do"/>
            <forward name="iv" path="/RP_B_BIL_S03_03_01BL.do"/>
            <forward name="cn" path="/RP_B_BIL_S03_03_01BL.do"/>
            <forward name="reset" path="/RP_B_BIL_S01_01BL.do"/>
            <forward name="export" path="/RP_B_BIL_S01ExportBL.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S01ExportBL" scope="request" validate="false"/>
        <action name="_b_bilForm" path="/SC_B_BIL_S03_01SCR"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_01.jsp"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S03_02_01BL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_02SCR.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S02_01BL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S02_01SCR.do"/>
        </action>
        <action name="_b_bilForm" path="/checkInvoiceDeleteStatus"
            scope="request" validate="false">
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S02_01SCR"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S02_01.jsp"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S02_02_01BL"
            scope="request" validate="false">
            <forward name="successGenerate" path="/SC_B_BIL_S02_02SCR.do"/>
            <forward name="successBilS03" path="/RP_B_BIL_S03_03_01BL.do"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S02_01DSP"
            scope="request" validate="false">
            <forward name="edit" path="/RP_B_BIL_S02_02_01BL.do"/>
            <forward name="delete" path="/RP_B_BIL_S02_03BL.do"/>
            <forward name="reActivate" path="/RP_B_BIL_S02_04BL.do"/>
            <forward name="print" path="/RP_B_BIL_S03_04BL.do"/>
            <forward name="exit" module="/B_BTH" path="/RP_B_BTH_P01_01BL.do"/>
            <!-- #194 Add -->
            <forward name="duplicate" path="/RP_B_BIL_S02_06BL.do"/>
        </action>
        <!-- #194 Add Start -->
        <action name="_b_bilForm" path="/RP_B_BIL_S02_06BL"
            scope="request" validate="false">
            <forward name="successBilS03" path="/RP_B_BIL_S03_03_01BL.do"/>
        </action>
        <!-- #194 Add End -->
        <action name="_b_bilForm" path="/SC_B_BIL_S02_02SCR"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S02_02.jsp"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S02_03BL"
            scope="request" validate="false">
            <forward name="success" path="/RP_B_BIL_S01_01BL.do"/>
            <forward name="fail" path="/RP_B_BIL_S02_01BL.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S02_04BL"
            scope="request" validate="false">
            <forward name="success" path="/RP_B_BIL_S01_01BL.do"/>
            <forward name="fail" path="/RP_B_BIL_S02_01BL.do"/>
        </action>
        <action input="/RP_B_BIL_S02_02_01BL.do" name="_b_bilForm"
            path="/RP_B_BIL_S02_02_02BL" scope="request" validate="true">
            <forward name="success" path="/RP_B_BIL_S02_01BL.do"/>
            <forward name="fail" path="/RP_B_BIL_S02_02_01BL.do"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S03_01DSP"
            scope="request" validate="false">
            <forward name="delete" path="/RP_B_BIL_S03_03BL.do"/>
            <forward name="edit" path="/RP_B_BIL_S03_02_01BL.do"/>
            <forward name="print" path="/RP_B_BIL_S03_04BL.do"/>
            <forward name="exit" module="/B_BTH" path="/RP_B_BTH_P01_01BL.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S03_03BL"
            scope="request" validate="false">
            <forward name="success" path="/RP_B_BIL_S01_01BL.do"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S03_02SCR"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_02.jsp"/>
        </action>
        <action input="/RP_B_BIL_S03_02_03BL.do" name="_b_bilForm"
            path="/RP_B_BIL_S03_02_02BL" scope="request" validate="true">
            <forward name="success" path="/RP_B_BIL_S03_01BL.do"/>
            <forward name="fail" path="/RP_B_BIL_S03_02_03BL.do"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S03_02DSP"
            scope="request" validate="false">
            <forward name="save" path="/RP_B_BIL_S03_02_02BL.do"/>
            <forward name="populateData" path="/RP_B_BIL_S03_02_03BL.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S03_02_03BL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_02SCR.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S03_03_01BL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_03SCR.do"/>
        </action>
        <action name="_b_bilForm" path="/RP_B_BIL_S03_03_03BL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_03SCR.do"/>
        </action>
        <action input="/RP_B_BIL_S03_03_01BL.do" name="_b_bilForm"
            path="/RP_B_BIL_S03_03_02BL" scope="request" validate="true">
            <forward name="success" path="/RP_B_BIL_S02_01BL.do"/>
            <forward name="fail" path="/RP_B_BIL_S03_03_03BL.do"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S03_03SCR"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03_03.jsp"/>
        </action>
        <action name="_b_bilForm" path="/SC_B_BIL_S03_03DSP"
            scope="request" validate="false">
            <forward name="populateData" path="/RP_B_BIL_S03_03_03BL.do"/>
            <forward name="save" path="/RP_B_BIL_S03_03_02BL.do"/>
        </action>
        
        <action name="_b_bilForm" path="/GetExpAmtAjax" scope="request" validate="false"/>
            
        <action name="_b_bilForm"
            path="/RP_B_BIL_S03_04BL" scope="request"/>
			
		<action name="_b_bilForm2" path="/RP_B_BIL_S05BL"
            scope="request" validate="false">
        	<forward name="success" path="/SC_B_BIL_S05.jsp"/>    	
        </action>
        
        <action name="_b_bilForm" path="/B_BIL_S03neAddBillingItemBL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03ne_ajax.jsp"/>
        </action>
        
        <action name="_b_bilForm" path="/B_BIL_S03neCboChangeAjaxBL"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S03ComboBoxChange_ajax.jsp"/>
        </action>
        
        <action name="_b_bilForm06" path="/RP_B_BIL_S06BL"
            scope="request" validate="false">
        	<forward name="success" path="/SC_B_BIL_S06SCR.do"/>    	
        </action>
        
        <action name="_b_bilForm06" path="/SC_B_BIL_S06SCR"
            scope="request" validate="false">
            <forward name="success" path="/SC_B_BIL_S06.jsp"/>
        </action>
        <action name="_b_bilForm06" path="/SC_B_BIL_S06DSP"
            scope="request" validate="false">
            <forward name="save" path="/RP_B_BIL_S06BL.do"/>
        </action>
    </action-mappings>
    <!-- ======================================== コントローラ定義 -->
    <controller processorClass="jp.terasoluna.fw.web.struts.action.RequestProcessorEx"/>
    <!-- ======================================== メッセージリソース定義 
    <message-resources
        factory="jp.terasoluna.fw.web.struts.util.SpringMessageResourcesFactory"
        parameter="messageSource" /> -->
    <message-resources
        factory="jp.terasoluna.fw.web.struts.action.PropertyMessageResourcesExFactory" parameter="B_BIL-messages"/>
    <plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
        <set-property property="contextConfigLocation" value="/WEB-INF/B_BIL/B_BILContext.xml"/>
    </plug-in>
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
        <set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/validator-rules-ex.xml,/WEB-INF/B_BIL/validation-B_BIL.xml"/>
        <set-property property="stopOnFirstError" value="false"/>
    </plug-in>
    <plug-in className="jp.terasoluna.fw.web.struts.plugins.BLogicIOPlugIn">
        <set-property property="digesterRules" value="/WEB-INF/blogic-io-rules.xml"/>
        <set-property property="mapperClass" value="jp.terasoluna.fw.service.thin.BLogicMapper"/>
        <set-property property="resources" value="/WEB-INF/B_BIL/blogic-B_BIL-io.xml"/>
    </plug-in>
    <plug-in className="jp.terasoluna.fw.web.struts.plugins.ResetterPlugIn">
        <set-property property="resetter" value="jp.terasoluna.fw.web.struts.reset.ResetterImpl"/>
        <set-property property="digesterRules" value="/WEB-INF/reset-rules.xml"/>
        <set-property property="resources" value="/WEB-INF/B_BIL/reset-B_BIL.xml"/>
    </plug-in>
</struts-config>
