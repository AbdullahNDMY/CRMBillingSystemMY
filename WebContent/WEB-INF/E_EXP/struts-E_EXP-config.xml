<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
                               "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<!-- Generated by TERASOLUNA IDE -->
<struts-config>
    <data-sources/>
    <!-- ======================================== フォームビーン定義  設定例
   <form-beans>
     <form-bean name="_userForm"
                type="jp.terasoluna.sample.common.form.UserForm" />
     <form-bean name="_dynaValidatorForm"
                type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx" >
       <form-property name="userId" type="java.lang.String"/>
     </form-bean>
   </form-beans> -->
    <form-beans>
        <form-bean name="e_expForm" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
        	<form-property name="closingMonth" type="java.lang.String"/>
            <form-property name="closingYear" type="java.lang.String"/>
            <!-- Add #146 Start -->
            <form-property name="customerTypeDispFlg" type="java.lang.String"/>
            <form-property name="customerType" type="java.lang.String"/>
            <!-- Add #146 End-->
        	<form-property name="row" type="java.lang.Integer"/>
            <form-property name="startIndex" type="java.lang.Integer"/>
            <form-property name="totalRow" type="java.lang.Integer"/>
            <form-property name="listHistories" type="java.util.List"/>
            <form-property name="typeFlg" type="java.lang.String"/>
            <form-property name="idBatch" type="java.lang.String"/>
            <form-property name="filename" type="java.lang.String"/>
            <form-property name="logsList" type="java.util.List"/>
        </form-bean>
    </form-beans>
    <global-exceptions/>
    <global-forwards/>
    <!-- ======================================== アクションマッピング定義 -->
    <action-mappings type="jp.terasoluna.fw.web.struts.action.ActionMappingEx">
        <action name="e_expForm" path="/SC_E_EXP_S01SCR" scope="request">
            <forward name="success" path="/SC_E_EXP_S01.jsp"/>
        </action>
        <action name="e_expForm" path="/SC_E_EXP_S01LogSCR" scope="request">
            <forward name="success" path="/SC_E_EXP_S01_Log.jsp"/>
        </action>
        <action name="e_expForm" path="/PR_E_EXP_S01InitBL" scope="request">
            <forward name="success" path="/SC_E_EXP_S01SCR.do"/>
        </action>
        <action name="e_expForm" path="/SC_E_EXP_S01DSP"
            scope="request" validate="false">
            <forward name="execute" path="/PR_E_EXP_S01ExecuteBL.do"/>
        </action>
        <action name="e_expForm" path="/PR_E_EXP_S01ExecuteBL" scope="request">
        	<forward name="error" path="/PR_E_EXP_S01ExecuteCheckErrorBL.do"/>
            <forward name="success" path="/PR_E_EXP_S01InitBL.do"/>
        </action>
        <action name="e_expForm" path="/PR_E_EXP_S01ExecuteCheckErrorBL" scope="request">
            <forward name="success" path="/PR_E_EXP_S01InitBL.do"/>
        </action>
        <action name="e_expForm" path="/RP_E_EXP_S01DownloadBL"
            scope="request" validate="false"/>
         
         <action name="e_expForm" path="/RP_E_EXP_S01LogInitBL" scope="request">
            <forward name="success" path="/SC_E_EXP_S01LogSCR.do"/>
        </action>
    </action-mappings>
    <!-- ======================================== コントローラ定義 -->
    <controller processorClass="jp.terasoluna.fw.web.struts.action.RequestProcessorEx"/>
    <!-- ======================================== メッセージリソース定義 
   <message-resources
       factory="jp.terasoluna.fw.web.struts.util.SpringMessageResourcesFactory"
       parameter="messageSource" /> -->
    <message-resources
        factory="jp.terasoluna.fw.web.struts.action.PropertyMessageResourcesExFactory" parameter="E_EXP-messages"/>
    <plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
        <set-property property="contextConfigLocation" value="/WEB-INF/E_EXP/E_EXPContext.xml"/>
    </plug-in>
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
        <set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/validator-rules-ex.xml,/WEB-INF/E_EXP/validation-E_EXP.xml"/>
        <set-property property="stopOnFirstError" value="false"/>
    </plug-in>
    <plug-in className="jp.terasoluna.fw.web.struts.plugins.BLogicIOPlugIn">
        <set-property property="digesterRules" value="/WEB-INF/blogic-io-rules.xml"/>
        <set-property property="mapperClass" value="jp.terasoluna.fw.service.thin.BLogicMapper"/>
        <set-property property="resources" value="/WEB-INF/E_EXP/blogic-E_EXP-io.xml"/>
    </plug-in>
    <plug-in className="jp.terasoluna.fw.web.struts.plugins.ResetterPlugIn">
        <set-property property="resetter" value="jp.terasoluna.fw.web.struts.reset.ResetterImpl"/>
        <set-property property="digesterRules" value="/WEB-INF/reset-rules.xml"/>
        <set-property property="resources" value="/WEB-INF/E_EXP/reset-E_EXP.xml"/>
    </plug-in>
</struts-config>
