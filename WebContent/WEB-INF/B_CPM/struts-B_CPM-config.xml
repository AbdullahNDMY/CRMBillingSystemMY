<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
                               "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<!-- Generated by TERASOLUNA IDE -->
<struts-config>
    <data-sources/>
    <!-- ======================================== フォームビーン定義  設定例
    <form-beans>
      <form-bean name="_userForm"
                 type="jp.terasoluna.sample.common.form.UserForm" />
      <form-bean name="_dynaValidatorForm"
                 type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx" >
        <form-property name="userId" type="java.lang.String"/>
      </form-bean>
    </form-beans> -->
    <form-beans>
        <form-bean name="_B_CPM_S01SearchForm" type="nttdm.bsys.b_cpm.form.B_CPM_S01SearchForm">
            <form-property name="inputSearchPlan" type="nttdm.bsys.b_cpm_en.dto.InputSearchPlan"/>
            <form-property name="searchResult" type="java.util.ArrayList"/>
            <form-property name="customerPlan" type="nttdm.bsys.b_cpm_en.dto.CustomerPlan"/>
            <form-property name="action" type="java.lang.String"/>
            <form-property name="idScreen" type="java.lang.String"/>
            <form-property name="cpmTransType" type="java.lang.String"/>
            <form-property name="b_ssmIsUsed" type="java.lang.String"/>
        </form-bean>
        <form-bean name="_B_CPM_S02Form" type="nttdm.bsys.b_cpm.form.B_CPM_S02Form">
            <form-property name="customerPlan" type="nttdm.bsys.b_cpm_en.dto.CustomerPlan"/>
            <form-property name="tabController" type="nttdm.bsys.b_cpm_en.dto.TabController"/>
            <form-property name="idPlanGrpList" type="java.lang.String"/>
            <form-property name="idCustPlanLinks" type="java.lang.String"/>
            <form-property name="idCust" type="java.lang.String"/>
            <form-property name="serviceMultiPln" type="java.lang.String"/>
            <form-property name="action" type="java.lang.String"/>
            <form-property name="idService" type="java.lang.String"/>
            <form-property name="accessSubmit" type="java.lang.String"/>
            <form-property name="idScreen" type="java.lang.String"/>
            <form-property name="ADD_STDPLN" type="java.lang.String"/>
            <form-property name="ADD_STDPLN_MULTI" type="java.lang.String"/>
            <form-property name="ADD_NON_STDPLN" type="java.lang.String"/>
            <form-property name="jobNoAllChk" type="java.lang.String"/>
            <form-property name="jobNoAllVal" type="java.lang.String"/>
            <form-property name="masterLocationFlg" type="java.lang.String"/>
            <form-property name="masterLocation" type="java.lang.String"/>
        </form-bean>
        <form-bean name="_B_CPM_S04SearchForm" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
            <form-property name="inputSearchPlan" type="nttdm.bsys.b_cpm_en.dto.InputSearchPlan"/>
            <form-property name="searchResult" type="java.util.ArrayList"/>
            <form-property name="customerPlan" type="nttdm.bsys.b_cpm_en.dto.CustomerPlan"/>
            <form-property name="idScreen" type="java.lang.String"/>
            <form-property name="cpmTransType" type="java.lang.String"/>
            <form-property name="nontaxinvoiceFlg" type="java.lang.String"/>
            <form-property name="actionFlg" type="java.lang.String"/>
            <form-property name="idCust" type="java.lang.String"/>
            <form-property name="idCustPlan" type="java.lang.String"/>
            <form-property name="bifType" type="java.lang.String"/>
        </form-bean>
        <form-bean name="_B_CPM_S07Form" type="jp.terasoluna.fw.web.struts.form.DynaValidatorActionFormEx">
            <form-property name="idSubInfo" type="java.lang.String"/>
            <form-property name="idCustPlan" type="java.lang.String"/>
            <form-property name="serverList" type="java.util.List"/>
            <form-property name="ID_MAIL" type="java.lang.String"/>
            <form-property name="MAILACC" type="java.math.BigDecimal"/>
            <form-property name="MAILBOX_QTY" type="java.math.BigDecimal"/>
            <form-property name="VIRUS_SCAN" type="java.math.BigDecimal"/>
            <form-property name="ANTI_SPAM" type="java.math.BigDecimal"/>
            <form-property name="JUNK_MGT" type="java.math.BigDecimal"/>
            <form-property name="AUTO_MAIL_ACC" type="java.lang.String"/>
            <form-property name="AUTO_MAILBOX_QTY" type="java.lang.String"/>
            <form-property name="AUTO_VIRUS_SCAN" type="java.lang.String"/>
            <form-property name="AUTO_ANTI_SPAM" type="java.lang.String"/>
            <form-property name="AUTO_JUNK_MGT" type="java.lang.String"/>
            <form-property name="OPT_BASE_QTY" type="java.lang.String"/>
            <form-property name="OPT_ADDT_OPTION" type="java.lang.String"/>
            <form-property name="OPT_MAILBOX_QTY" type="java.lang.String"/>
            <form-property name="OPT_VIRUS_SCAN" type="java.lang.String"/>
            <form-property name="OPT_ANTI_SPAM" type="java.lang.String"/>
            <form-property name="OPT_JUNK_MGT" type="java.lang.String"/>
            <form-property name="accessType" type="java.lang.String"/>
        </form-bean>
    </form-beans>
    <!-- used to update status of service end  ======================================== グローバル例外ハンドリング定義 -->
    <global-exceptions>
        <!-- 設定侁E-->
        <exception
            className="jp.terasoluna.fw.web.struts.action.ExceptionConfigEx"
            handler="jp.terasoluna.fw.web.struts.action.SystemExceptionHandler"
            key="errors.default.mesasge" path="/error.jsp" type="jp.terasoluna.fw.exception.SystemException">
            <set-property property="logLevel" value="error"/>
            <set-property property="module" value="/"/>
        </exception>
        <exception
            className="jp.terasoluna.fw.web.struts.action.ExceptionConfigEx"
            handler="jp.terasoluna.fw.web.struts.action.DefaultExceptionHandler"
            key="errors.default.mesasge" path="/error.jsp" type="java.lang.Exception">
            <set-property property="logLevel" value="error"/>
            <set-property property="module" value="/"/>
        </exception>
    </global-exceptions>
    <!-- ======================================== グローバルフォワード定義 -->
    <global-forwards>
        <forward name="welcome" path="/welcome.do" redirect="true"/>
    </global-forwards>
    <!-- ======================================== アクションマッピング定義 -->
    <action-mappings type="jp.terasoluna.fw.web.struts.action.ActionMappingEx">
        <action name="_B_CPM_S07Form" path="/B_CPM_S07SCR"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S07v.jsp"/>
        </action>
        <action name="_B_CPM_S07Form" path="/B_CPM_S07DSP"
            scope="request" validate="false">
            <forward name="edit" path="/B_CPM_S07Edit.do"/>
            <forward name="save" path="/B_CPM_S07Save.do"/>
        </action>
        <action name="_B_CPM_S07Form" path="/B_CPM_S07Edit"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S07e.jsp"/>
        </action>
        <action name="_B_CPM_S07Form" path="/B_CPM_S07Save"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S07SCR.do"/>
            <forward name="failure" path="/B_CPM_S07EditScr.do"/>
        </action>
        <action name="_B_CPM_S07Form" path="/B_CPM_S07EditScr"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S07e.jsp"/>
        </action>
        
        <action name="_B_CPM_S01SearchForm" path="/B_CPM_S01LoadBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S01.jsp"/>
            <forward name="BIFsuccess" path="/B_CPM_S04.jsp"/>
        </action>
        <action name="_B_CPM_S01SearchForm" path="/B_CPM_S01SearchBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S01LoadBL.do"/>
        </action>
        <action input="/B_CPM_S01LoadBL.do" name="_B_CPM_S01SearchForm"
            path="/B_CPM_S01DSP" scope="request" validate="false">
            <forward name="search" path="/B_CPM_S01SearchBL.do"/>
            <forward module="/M_CST" name="newCustomer" path="/M_CSTR07BLogic.do"/>
            <forward name="newCustomerPlan" path="/B_CPM_S02DSP.do"/>
            <forward name="viewCustomerPlan" path="/B_CPM_S02DSP.do"/>
            <forward name="exit" path="/B_CPM_S01LoadBL.do"/>
            <forward module="/M_CST" name="viewCustomer" path="/M_CSTR02BLogic.do"/>
            <forward module="/B_SSM_S01" name="viewSubscriptionInfo" path="/B_SSM_S01_SubInfo_Displaying_Action.do"/>
            <forward module="/B_BAC" name="viewBillingAccount" path="/RP_B_BAC_S02_02_01BL.do"/>
            <forward name="exportCSV" path="/B_CPM_S01CheckExportBL.do"/>
            <forward name="generateBIF" path="/B_CPM_S01LoadBL.do"/>
            <forward name="getCustomerInfo" module="/M_CST" path="/M_CSTS04SearchBLogic.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02EditDSP"
            scope="request" validate="false">
            <forward name="newCustomerPlan" path="/B_CPM_S02BL.do"/>
            <forward module="/M_PPM" name="chooseStandardPlan" path="/M_PPM_S03_01BL.do"/>
            <forward module="/M_PPM" name="chooseStandardPlanM_MPP05" path="/M_PPMS05Search.do"/>
            <forward name="save" path="/B_CPM_S02SaveBL.do"/>
            <forward name="edit" path="/B_CPM_S02_LoadPlanBL.do"/>
            <forward name="exit" path="/B_CPM_S01DSP.do"/>
            <forward name="loadNewSubPlan" path="/B_CPM_S02AddPlanBL.do"/>
            <forward name="loadExistSubPlan" path="/B_CPM_S02AddExistPlanBL.do"/>
            <forward name="new" path="/B_CPM_S02_LoadPlanBL.do"/>
            <forward module="/B_SSM_S02" name="editSubscriptionInfo" path="/B_SSM_S02_Request_Process_Action.do"/>
            <forward name="refresh" path="/B_CPM_S02LoadSCR.do"/>
            <forward name="getCustomerInfo" module="/M_CST" path="/M_CSTS04SearchBLogic.do"/>
            <forward name="getPlanInfo" module="/M_PPM" path="/M_PPMS04Search.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02BL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02n.jsp"/>
        </action>
        <action input="/B_CPM_S02LoadSCR.do" name="_B_CPM_S02Form"
            path="/B_CPM_S02SaveBL" scope="request" validate="true">
            <forward name="success" path="/B_CPM_S02ViewBL.do"/>
            <forward name="failure" path="/B_CPM_S02LoadSCR.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02LoadSCR"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02e.jsp"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02_LoadPlanBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02LoadSCR.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02ViewBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02v.jsp"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S05InitBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S05.jsp"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02ApproveBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02ViewBL.do"/>
            <forward name="failure" path="/B_CPM_S02ViewBL.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02ViewDSP"
            scope="request" validate="false">
            <forward name="viewCustomerPlan" path="/B_CPM_S02ViewBL.do"/>
            <forward name="approve" path="/B_CPM_S02ApproveBL.do"/>
            <forward name="edit" path="/B_CPM_S02DSP.do"/>
            <forward name="exit" path="/B_CPM_S02DSP.do"/>
            <forward name="deleteCustomerPlan" path="/B_CPM_S02DeleteBL.do"/>
            <forward module="/B_SSM_S01" name="viewSubscriptionInfo" path="/B_SSM_S01_SubInfo_Displaying_Action.do"/>
            <forward name="updateServiceStatus" path="/B_CPM_S02UpdateServiceStatusBL.do"/>
            <forward name="cancelAndBackToDraft" path="/B_CPM_S02CancelAndBackToDraftBL.do"/>
            <forward name="refresh" path="/B_CPM_S02ViewBL.do"/>
            <forward name="generateBIF" path="/B_CPM_S02DSP.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02DSP"
            scope="request" validate="false">
            <forward name="exit" path="/B_CPM_S01DSP.do"/>
            <forward name="newCustomerPlan" path="/B_CPM_S02EditDSP.do"/>
            <forward name="viewCustomerPlan" path="/B_CPM_S02ViewDSP.do"/>
            <forward name="edit" path="/B_CPM_S02EditDSP.do"/>
            <forward name="generateBIF" path="/B_CPM_S01DSP.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02DeleteBL"
            scope="request" validate="false">
            <forward name="exit" path="/B_CPM_S01SearchBL.do"/>
            <forward name="failure" path="/B_CPM_S02ViewBL.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S05DSP"
            scope="request" validate="false">
            <forward name="viewCustomerPlan" path="/B_CPM_S05BL.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S05BL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02ViewBL.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02AddPlanBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02e_01.jsp"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02AddExistPlanBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02e_01.jsp"/>
        </action>
        <action name="_B_CPM_S02Form"
            path="/B_CPM_S02UpdateServiceStatusBL" scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02ViewBL.do"/>
            <forward name="failure" path="/B_CPM_S02ViewBL.do"/>
            <forward name="pause" path="/B_CPM_S02ViewBL.do"/>
        </action>
        <action name="_B_CPM_S02Form"
            path="/B_CPM_S02CancelAndBackToDraftBL" scope="request" validate="false">
            <forward name="success" path="/B_CPM_S02ViewBL.do"/>
            <forward name="failure" path="/B_CPM_S02ViewBL.do"/>
        </action>
        <action name="_B_CPM_S01SearchForm" path="/B_CPM_S01DownloadBL"
            scope="request" validate="false">
            <forward name="success" path="/B_CPM_S01.jsp"/>
        </action>
        <action name="_B_CPM_S01SearchForm"
            path="/B_CPM_S01CheckExportBL" scope="request" validate="false">
            <forward name="failure" path="/B_CPM_S01SearchBL.do"/>
            <forward name="success" path="/B_CPM_S01DownloadBL.do"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02RemoveServiceOrSubPlanCheckAjax"
            scope="request" validate="false"/>
        
        <action name="_B_CPM_S04SearchForm" path="/B_CPM_S04DSP" scope="request" validate="false">
            <forward name="search" path="/B_CPM_S04SearchBL.do"/>
            <forward name="generateBIF" path="/B_CPM_S04SearchBL.do"/>
            <forward name="viewCustomerPlan" path="/B_CPM_S02DSP.do"/>
            <forward module="/B_SSM_S01" name="viewSubscriptionInfo" path="/B_SSM_S01_SubInfo_Displaying_Action.do"/>
        </action>
        <action name="_B_CPM_S04SearchForm" path="/B_CPM_S04SearchBL" scope="request" validate="false">
            <forward name="success" path="/B_CPM_S04SCR.do"/>
            <forward name="generateBIFSuccessINAndDN" module="/BIF" path="/B_BIFS02_01BL.do"/>
            <forward name="generateBIFSuccessCN" module="/BIF" path="/B_BIFS03LoadBL.do"/>
            <forward name="generateBIFFail" path="/B_CPM_S04CheckErrorBL.do"/>
        </action>
        <action name="_B_CPM_S04SearchForm" path="/B_CPM_S04InitBL" scope="request" validate="false">
            <forward name="success" path="/B_CPM_S04SCR.do"/>
        </action>
        <action name="_B_CPM_S04SearchForm" path="/B_CPM_S04CheckErrorBL" scope="request" validate="false">
            <forward name="success" path="/B_CPM_S04SCR.do"/>
        </action>
        <action name="_B_CPM_S04SearchForm" path="/B_CPM_S04SCR" scope="request" validate="false">
            <forward name="success" path="/B_CPM_S04.jsp"/>
        </action>
        <action name="_B_CPM_S02Form" path="/B_CPM_S02RateType2ChangeAjax"
            scope="request" validate="false"/>
    </action-mappings>
    <!-- ======================================== コントローラ定義 -->
    <controller processorClass="jp.terasoluna.fw.web.struts.action.RequestProcessorEx"/>
    <!-- ======================================== メチE��ージリソース定義 
    <message-resources
        factory="jp.terasoluna.fw.web.struts.util.SpringMessageResourcesFactory"
        parameter="messageSource" /> -->
    <message-resources
        factory="jp.terasoluna.fw.web.struts.action.PropertyMessageResourcesExFactory" parameter="B_CPM-messages"/>
    <plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
        <set-property property="contextConfigLocation" value="/WEB-INF/B_CPM/B_CPMContext.xml"/>
    </plug-in>
    <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
        <set-property property="pathnames" value="/WEB-INF/validator-rules.xml,/WEB-INF/validator-rules-ex.xml,/WEB-INF/B_CPM/validation-B_CPM.xml"/>
        <set-property property="stopOnFirstError" value="false"/>
    </plug-in>
    <plug-in className="jp.terasoluna.fw.web.struts.plugins.BLogicIOPlugIn">
        <set-property property="digesterRules" value="/WEB-INF/blogic-io-rules.xml"/>
        <set-property property="mapperClass" value="jp.terasoluna.fw.service.thin.BLogicMapper"/>
        <set-property property="resources" value="/WEB-INF/B_CPM/blogic-B_CPM-io.xml"/>
    </plug-in>
    <plug-in className="jp.terasoluna.fw.web.struts.plugins.ResetterPlugIn">
        <set-property property="resetter" value="jp.terasoluna.fw.web.struts.reset.ResetterImpl"/>
        <set-property property="digesterRules" value="/WEB-INF/reset-rules.xml"/>
        <set-property property="resources" value="/WEB-INF/B_CPM/reset-B_CPM.xml"/>
    </plug-in>
</struts-config>
